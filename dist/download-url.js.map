{"version":3,"sources":["../src/download-url.js"],"names":["fromURL","url","clientID","link","axios","get","headers","Accept","withCredentials","res","data","Error","includes","responseType","r"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA,IAAMA,OAAO;AAAA,2FAAG,iBAAOC,GAAP,EAAYC,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAENC,YAAAA,IAFM,aAEIF,GAFJ,wBAEqBC,QAFrB;AAAA;AAAA,mBAGME,kBAAMC,GAAN,CAAUF,IAAV,EAAgB;AAChCG,cAAAA,OAAO,EAAE;AACP,8BAAc,2HADP;AAEPC,gBAAAA,MAAM,EAAE,KAFD;AAGP,mCAAmB;AAHZ,eADuB;AAMhCC,cAAAA,eAAe,EAAE;AANe,aAAhB,CAHN;;AAAA;AAGNC,YAAAA,GAHM;;AAAA,gBAWPA,GAAG,CAACC,IAAJ,CAAST,GAXF;AAAA;AAAA;AAAA;;AAAA,kBAWa,IAAIU,KAAJ,mFAAqFR,IAArF,EAXb;;AAAA;AAAA,iBAaRF,GAAG,CAACW,QAAJ,CAAa,cAAb,CAbQ;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAcMR,kBAAMC,GAAN,CAAUI,GAAG,CAACC,IAAJ,CAAST,GAAnB,EAAwB;AACtCO,cAAAA,eAAe,EAAE,IADqB;AAEtCK,cAAAA,YAAY,EAAE;AAFwB,aAAxB,CAdN;;AAAA;AAcJC,YAAAA,CAdI;AAAA,6CAkBHA,CAAC,CAACJ,IAlBC;;AAAA;AAAA,6CAqBL,4BAAWD,GAAG,CAACC,IAAJ,CAAST,GAApB,CArBK;;AAAA;AAAA;AAAA;AAAA,kBAuBN,yCAvBM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAPD,OAAO;AAAA;AAAA;AAAA,GAAb;;eA2BeA,O","sourcesContent":["import axios from 'axios'\nimport m3u8stream from 'm3u8stream'\nimport { handleRequestErrs } from './util'\n\nconst fromURL = async (url, clientID) => {\n  try {\n    const link = `${url}?client_id=${clientID}`\n    const res = await axios.get(link, {\n      headers: {\n        'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.129 Safari/537.36',\n        Accept: '*/*',\n        'Accept-Encoding': 'gzip, deflate, br'\n      },\n      withCredentials: true\n    })\n    if (!res.data.url) throw new Error(`Invalid response from Soundcloud. Check if the URL provided is correct: ${link}`)\n\n    if (url.includes('/progressive')) {\n      const r = await axios.get(res.data.url, {\n        withCredentials: true,\n        responseType: 'stream'\n      })\n      return r.data\n    }\n\n    return m3u8stream(res.data.url)\n  } catch (err) {\n    throw handleRequestErrs(err)\n  }\n}\n\nexport default fromURL\n"],"file":"download-url.js"}